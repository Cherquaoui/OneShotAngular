<div class="d-flex justify-content-center" style="margin-top: 10px">
<div class="d-flex justify-content-center col-12" style="height:70px">

<div class="col-7 d-flex flex-column justify-content-center">
<div style="height: 50px">
  <mat-form-field >
    <input matInput (keyup)="applyFilter($event.target.value)" [(ngModel)]="recherche" placeholder="Rechercher"
    [matAutocomplete]="auto" [formControl]="myControl">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let item of searchResult" [value]="item">
        {{ item }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <mat-form-field>
    <mat-select [(value)]="filtreRegion" placeholder="Filtrer par région :" (valueChange)="maRecherche(0,10)">
      <mat-option value="">Aucun</mat-option>
      <mat-option value="Rabat">Rabat</mat-option>
      <mat-option value="Casablanca">Casablanca</mat-option>
      <mat-option value="Tanger">Tanger</mat-option>
      <mat-option value="Agadir">Agadir</mat-option>
      <mat-option value="Meknes">Meknes</mat-option>
      <mat-option value="Marrakech">Marrakech</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
    <mat-select [(value)]="filtreTypologie" placeholder="Filtrer par typologie" (valueChange)="maRecherche(0,10)">
      <mat-option value="">Aucun</mat-option>
      <mat-option value="RT">RoofTop</mat-option>
      <mat-option value="Lampadaire">Lampadaire</mat-option>
      <mat-option value="Lampadaire Esth">Lampadaire Esth</mat-option>
      <mat-option value="GF">GreenField</mat-option>
      <mat-option value="Palmier">Palmier</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-slide-toggle [disabled]="!filtre" [checked]="checked" (click)="check($event)">Filtre</mat-slide-toggle>
</div>
</div>
<div class="d-flex flex-column col-3 justify-content-center" >
  <div style="height: 50px" class="d-flex">
    <button mat-raised-button  routerLink="/go/ajouter" >Ajouter un GO</button>

    <button mat-raised-button >vers Excel</button>
    <div></div>
  </div>
</div>
</div>
</div>

<div class="d-flex justify-content-center">
  <div  class="col-8">
    <div style="overflow: scroll;max-height: 450px" >
<table mat-table style="width: 100%" [dataSource]="dataSource" matSort class="table-hover table-sm" >

  <ng-container matColumnDef="codeSite">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Code site</th>

    <td mat-cell *matCellDef="let go"  style="cursor: pointer">
      <button mat-button [matMenuTriggerFor]="lvl1" >{{go.codeSite}}</button>
      <mat-menu #lvl1="matMenu">
        <button mat-menu-item (click)="modifier(go.codeSite)">Modifier</button>
        <button mat-menu-item>Détails</button>
        <button mat-menu-item>Google Maps</button>
        <button mat-menu-item [matMenuTriggerFor]="lvl2">Naviguer</button>
      </mat-menu>
      <mat-menu #lvl2="matMenu">
        <button mat-menu-item (click)="goCw(go.codeSite)">CW</button>
        <button mat-menu-item (click)="goElec(go.codeSite)">Electrification</button>
        <button mat-menu-item>Radio</button>
        <button mat-menu-item>Transmission</button>
      </mat-menu>

    </td>

  </ng-container>


  <ng-container matColumnDef="dateGo" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header  >Date GO</th>
    <td mat-cell *matCellDef="let go"> {{go.dateGo}} </td>
  </ng-container>

  <ng-container matColumnDef="typologie">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header>Typologie</th>
    <td mat-cell *matCellDef="let go"> {{go.typologie}} </td>
  </ng-container>
  <ng-container matColumnDef="hauteur">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header>Hauteur</th>
    <td mat-cell *matCellDef="let go"> {{go.hauteur}} </td>
  </ng-container>


  <ng-container matColumnDef="region" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header  >Région</th>
    <td mat-cell *matCellDef="let go"> {{go.region}} </td>
  </ng-container>

  <ng-container matColumnDef="latitude" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Latitude</th>
    <td mat-cell *matCellDef="let go"> {{go.latitude}} </td>
  </ng-container>

  <ng-container matColumnDef="longitude">
    <th mat-header-cell *matHeaderCellDef   mat-sort-header>Longitude</th>
    <td mat-cell *matCellDef="let go"> {{go.longitude}} </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns, sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="height: 30px" ></tr>
</table>
    </div>
    <div>
<mat-paginator  (page)="page($event)" [length]="monlength"
                [pageSizeOptions]="[10, 20, 50,100]" showFirstLastButtons></mat-paginator>
    </div>
  </div>
</div>
