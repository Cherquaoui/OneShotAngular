<div class="d-flex justify-content-center">
<div style="width: 90%;">
<mat-form-field>
  <input matInput (keyup)="applyFilter($event.target.value)" #monaa (mouseup)="applyFilter($event.target.value)" placeholder="Rechercher"
         [formControl]="myControl" [matAutocomplete]="auto" >
  <mat-autocomplete #auto="matAutocomplete" >
    <mat-option *ngFor="let monsite of filteredOptions | async" [value]="monsite" style="height: 25px">
      <span>{{monsite}}</span>
    </mat-option>
  </mat-autocomplete>
</mat-form-field>

<button mat-stroked-button style="margin-top: 5px;margin-left:5px">
  Ajouter un GO
</button>
    <button mat-stroked-button style="margin-top: 5px;margin-left: 5px">
Exporter vers Excel    </button>
  </div>
</div>
<div class="d-flex justify-content-center">
  <div style="border: dashed;width: 90%">
<table mat-table  [dataSource]="dataSource" matSort class="table-hover table-sm" style="width: 100%"  >

  <ng-container matColumnDef="codeSite">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Code site</th>

    <td mat-cell *matCellDef="let go" (click)="afficher($event.target.innerHTML)" style="cursor: pointer">
      <button mat-button [matMenuTriggerFor]="lvl1">{{go.codeSite}}</button>
      <mat-menu #lvl1="matMenu">
        <button mat-menu-item>Modifier</button>
        <button mat-menu-item>Supprimer</button>
        <button mat-menu-item>Détails</button>
        <button mat-menu-item>Google Maps</button>
        <button mat-menu-item [matMenuTriggerFor]="lvl2">Naviguer</button>
      </mat-menu>
      <mat-menu #lvl2="matMenu">
        <button mat-menu-item>CW</button>
        <button mat-menu-item>Electrification</button>
        <button mat-menu-item>Radio</button>
        <button mat-menu-item>Transmission</button>
      </mat-menu>

    </td>

    </ng-container>


  <ng-container matColumnDef="dateGo" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header  >Date GO</th>
    <td mat-cell *matCellDef="let go"> {{go.dateGo}} </td>
  </ng-container>

  <ng-container matColumnDef="typologie">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header>Typologie</th>
    <td mat-cell *matCellDef="let go"> {{go.typologie}} </td>
  </ng-container>
  <ng-container matColumnDef="hauteur">
    <th mat-header-cell *matHeaderCellDef  mat-sort-header>Hauteur</th>
    <td mat-cell *matCellDef="let go"> {{go.hauteur}} </td>
  </ng-container>


  <ng-container matColumnDef="region" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header  >Région</th>
    <td mat-cell *matCellDef="let go"> {{go.region}} </td>
  </ng-container>

  <ng-container matColumnDef="latitude" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Latitude</th>
    <td mat-cell *matCellDef="let go"> {{go.latitude}} </td>
  </ng-container>

  <ng-container matColumnDef="longitude">
    <th mat-header-cell *matHeaderCellDef   mat-sort-header>Longitude</th>
    <td mat-cell *matCellDef="let go"> {{go.longitude}} </td>
  </ng-container>
  <ng-container matColumnDef="etatCw">
    <th mat-header-cell *matHeaderCellDef   mat-sort-header>Etat CW</th>
    <td mat-cell *matCellDef="let go"> {{go?.cw?.etatCw}} </td>
  </ng-container>
  <ng-container matColumnDef="etatElec">
    <th mat-header-cell *matHeaderCellDef   mat-sort-header>Etat Elec</th>
    <td mat-cell *matCellDef="let go"> {{go?.electrification?.elecEtat}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="height: 30px" ></tr>
</table>
<mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
  </div>
</div>

